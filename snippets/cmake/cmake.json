{
    "Declare a CMake variable": {
        "prefix": ["set", "set variable", "add variable"],
        "body": ["    set(${1:varName} ${2:varValue})"],
        "description": "Add a variable"
    },
    "Create a GoogleTest CMake Project for your repository": {
        "prefix": "create googleTest Project",
        "body": [
            "cmake_minimum_required(VERSION 3.14)",
            "",
            "",
            "set(This ${1:MyGoogleTestProject})",
            "",
            "project(\\${This})",
            "",
            "# GoogleTest requires at least C++14",
            "set(CMAKE_CXX_STANDARD 14)",
            "",
            "include(FetchContent)",
            "FetchContent_Declare(",
            "  googletest",
            "  URL https://github.com/google/googletest/archive/609281088cfefc76f9d0ce82e1ff6c30cc3591e5.zip",
            ")",
            "# For Windows: Prevent overriding the parent project's compiler/linker settings",
            "set(gtest_force_shared_crt ON CACHE BOOL \"\" FORCE)",
            "FetchContent_MakeAvailable(googletest)",
            "",
            "enable_testing()",
            "",
            "add_executable(",
            "    \\${This}",
            "    \\${This}.cc",
            ")",
            "target_link_libraries(",
            "    \\${This}",
            "  gtest_main",
            ")",
            "",
            "include(GoogleTest)",
            "gtest_discover_tests(\\${This})",
            "",
            "# Now do the following in the same directory as this file is in",
            "# 1. create a file called $1.cc and add the following content ",
            "#    to it (Without the leading # of each line course):",
            "#     // File: $1.cc",
            "#     #include <gtest/gtest.h>",
            "#     // Demonstrate some basic assertions.",
            "#     TEST(HelloTest, BasicAssertions) {",
            "#       // Expect two strings not to be equal.",
            "#       EXPECT_STRNE(\"hello\", \"world\");",
            "#       // Expect equality.",
            "#       EXPECT_EQ(7 * 6, 42);",
            "#     }",
            "#",
            "# 2. Run these commands",
            "#     cmake -S . -B build",
            "#     cmake --build build",
            "#",
            "# See tutorial to update the url in FetchContent to latest release of googletest",
            "# Tutorial: https://github.com/google/googletest/blob/main/docs/quickstart-cmake.md",
            ""
        ],
        "description": "Creates a GoogleTest CMake Project intended to be added to a file called CMakeLists.txt.  This is the entry point to GoogleTests, and all other GoogleTest projects should be in sub-directories of where this project is located"
    },
    "Add a GoogleTest CMake child executable": {
        "prefix": "create sub executable project",
        "body": [
            "",
            "# Project name: ${1:${TM_DIRECTORY/.*[\\\\|\\/]+(.*)/$1/}}",
            "# Make sure parent CMakeLists.txt adds next line above the line \"gtest_discover_tests(\\${This})\"",
            "#   add_subdirectory($1)",
            "",
            "cmake_minimum_required(VERSION 3.20)",
            "",
            "add_executable(",
            "    ${1/(.*)/${1:/pascalcase}/}Tests",
            "    ${1/(.*)/${1:/pascalcase}/}MainTest.cc",
            ")",
            "target_link_libraries(",
            "    ${1/(.*)/${1:/pascalcase}/}Tests",
            "    gtest_main",
            ")",
            "",
            "gtest_discover_tests(",
            "    ${1/(.*)/${1:/pascalcase}/}Tests",
            ")",
            "",
            "# Now, create a file called ${1/(.*)/${1:/pascalcase}/}MainTest.cc and add the following content to it: ",
            "#     // File: ${1/(.*)/${1:/pascalcase}/}MainTest.cc",
            "#",
            "#     #include <gtest/gtest.h>",
            "#",
            "#     // Demonstrate some basic assertions.",
            "#     TEST(${1/(.*)/${1:/pascalcase}/}Test, BasicAssertions) {",
            "#     // Expect two strings not to be equal.",
            "#     EXPECT_STRNE(\"hello\", \"world\");",
            "#     // Expect equality.",
            "#     EXPECT_EQ(7 * 6, 42);",
            "#     }\n"
        ],
        "description": "Add a GoogleTest Test Application to an existing parent application."
    }
}
